(window["webpackJsonpjsBundle"] = window["webpackJsonpjsBundle"] || []).push([["build-blast-receipt"],{

/***/ "./static/js/src/entry/account/routes/blast-payments/build-blast-receipt.js":
/*!**********************************************************************************!*\
  !*** ./static/js/src/entry/account/routes/blast-payments/build-blast-receipt.js ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return buildBlastReceipt; });\n/* harmony import */ var jspdf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jspdf */ \"./node_modules/jspdf/dist/jspdf.min.js\");\n/* harmony import */ var jspdf__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jspdf__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! axios */ \"./node_modules/axios/index.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_format_currency__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/format-currency */ \"./static/js/src/entry/account/utils/format-currency.js\");\n/* harmony import */ var _utils_format_short_date__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/format-short-date */ \"./static/js/src/entry/account/utils/format-short-date.js\");\n\n\n\n\nfunction buildBlastReceipt(_ref) {\n  return new Promise(function ($return, $error) {\n    var date, amount, method, doc, formattedDate, leftEdge, topEdge, response, ttLogo;\n    date = _ref.date, amount = _ref.amount, method = _ref.method;\n    doc = new jspdf__WEBPACK_IMPORTED_MODULE_0___default.a({\n      unit: 'px',\n      format: 'letter',\n      lineHeight: 1.5\n    });\n    formattedDate = Object(_utils_format_short_date__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(date);\n    leftEdge = 40;\n    topEdge = 30;\n    return Promise.resolve(axios__WEBPACK_IMPORTED_MODULE_1___default.a.get('/static/img/receipt-logo.png', {\n      responseType: 'blob'\n    })).then(function ($await_1) {\n      try {\n        response = $await_1;\n        return Promise.resolve(new Promise(function (resolve, reject) {\n          var reader = new window.FileReader();\n          reader.readAsDataURL(response.data);\n          reader.onerror = reject;\n\n          reader.onload = function () {\n            resolve(reader.result);\n          };\n        })).then(function ($await_2) {\n          try {\n            ttLogo = $await_2;\n            doc.addImage(ttLogo, 'PNG', leftEdge, topEdge, 100, 50);\n            doc.setFontSize(10);\n            doc.text(['919 Congress Avenue, Sixth Floor', 'Austin, TX 78701', 'P: 512-716-8600', 'F: 512-716-8601', 'www.texastribune.org'], 425, topEdge, {\n              align: 'right'\n            });\n            doc.setFontSize(12);\n            doc.text('Thank you for subscribing to The Blast!', leftEdge, 130);\n            doc.setFontStyle('bold');\n            doc.text('Date', leftEdge, 160);\n            doc.setFontStyle('normal');\n            doc.text(formattedDate, leftEdge, 172);\n            doc.setFontStyle('bold');\n            doc.text('Amount', leftEdge, 202);\n            doc.setFontStyle('normal');\n            doc.text(Object(_utils_format_currency__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(amount), leftEdge, 214);\n\n            if (method) {\n              doc.setFontStyle('bold');\n              doc.text('Payment method', leftEdge, 244);\n              doc.setFontStyle('normal');\n              doc.text(method, leftEdge, 256);\n              doc.text('If you have any questions, email us at blast@texastribune.org or call 512-716-8695.', leftEdge, 286, {\n                maxWidth: '385'\n              });\n            } else {\n              doc.text('If you have any questions, email us at blast@texastribune.org or call 512-716-8695.', leftEdge, 244, {\n                maxWidth: '385'\n              });\n            }\n\n            doc.save(\"blast-receipt-\".concat(formattedDate, \".pdf\"));\n            return $return();\n          } catch ($boundEx) {\n            return $error($boundEx);\n          }\n        }, $error);\n      } catch ($boundEx) {\n        return $error($boundEx);\n      }\n    }, $error);\n  });\n}\n\n//# sourceURL=webpack://jsBundle/./static/js/src/entry/account/routes/blast-payments/build-blast-receipt.js?");

/***/ })

}]);